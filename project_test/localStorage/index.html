<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="index.js"></script>
</head>
<body>
<h1>Hello baby</h1>
<script>
    function createStorage(key) {
        const store = JSON.parse(localStorage.getItem(key)) ?? {}
        const save = () => {
            localStorage.setItem(key, JSON.stringify(store))
        }

        const storage = {
            get(key) {
                return store[key]
            },
            set(key, value) {
                store[key] = value
                save()
            },
            remove(key) {
                delete store[key]
                save()
            }
        }
        return storage
    }

    const setting = createStorage('test_localStorage')
    // setting.set('name','KhaiTC')
    setting.set('age','26')
    console.log(setting.get('name'))
    console.log(setting.get('age'))
</script>
</body>
</html>